# TEE Plugin for GAME SDK

The TEE Plugin is a plugin designed to obtain an attestation report in a Trusted Execution Environment (TEE). 

An attestation report is a document generated by a Trusted Execution Environment (TEE) that serves as cryptographic proof of the environment's integrity and trustworthiness. It is primarily used to assure external parties that:

- The TEE environment is secure: It proves that the execution environment is isolated from other processes and protected from unauthorized access or tampering.

- The code running inside the TEE is legitimate: It verifies that the code or application executed inside the TEE has not been altered and is authentic.

- The environment has not been compromised: It includes evidence that the hardware and software configurations are intact and match a known, trusted state.


## Installation
From this directory (`tee`), run the installation:
```bash
pip install -e .
```

## Usage
This TEE plugin currently supports retrieving attestation reports exclusively from [Google Confidential Space](https://cloud.google.com/docs/security/confidential-space). It is actively under development, and support for attestation reports from AMD SEV-SNP Confidential VMs will be released soon.

1. You should deploy the AI Agent on Google Confidential Space to safeguard sensitive information, such as wallet secrets.
2. Use this plugin to generate an attestation report for Google Confidential Space, demonstrating that the agent is enhanced by TEE and operating in a secure environment. The attestation report also includes the agent's Docker image to verify that it matches the expected configuration.
3. Import and initialize the plugin to use in your worker:
```python
from tee_plugin_gamesdk.tee_plugin import TeePlugin
options = {
    "id": "test_tee_worker",
    "name": "Test TEE Worker",
    "description": "An example TEE Plugin for testing.",
    "type": "GCS"
}
# Initialize the TeePlugin with your options
tee_plugin = TeePlugin(options)

# Generate Attestation report
get_attestation_report_fn = tee_plugin.get_function('get_attestation_report')
get_attestation_report_fn("Hello world!") # The input is a nonce releated to the report
```

You can refer to `test_tee.py` for more examples on how to call the twitter functions.
